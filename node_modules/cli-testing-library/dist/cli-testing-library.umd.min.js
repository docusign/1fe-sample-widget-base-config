!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("child_process"),require("perf_hooks")):"function"==typeof define&&define.amd?define(["exports","child_process","perf_hooks"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CliTestingLibrary={},e.require$$0,e.perf_hooks)}(this,(function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(t),i=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e};const s=new Map;let a=0;class c{constructor(e){this._id=++a,this._cb=e}observe(){s.set(this._id,this._cb)}disconnect(){s.delete(this._id)}}function l(){Array.from(s.values()).forEach((e=>e()))}const u=function(e){let{onlyFirst:t=!1}=void 0===e?{}:e;const n=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(n,t?void 0:"g")};var h=e=>"string"==typeof e?e.replace(u(),""):e;function d(e){if(null==e)throw new Error(`It looks like ${e} was passed instead of a matcher. Did you do something like getByText(${e})?`)}function f(e,t,n,r){if("string"!=typeof e)return!1;d(n);const o=r(e);return"string"==typeof n||"number"==typeof n?o.toLowerCase().includes(n.toString().toLowerCase()):"function"==typeof n?n(o,t):n.test(o)}function g(e,t,n,r){if("string"!=typeof e)return!1;d(n);const o=r(e);return n instanceof Function?n(o,t):n instanceof RegExp?n.test(o):o===String(n)}function y(e){let{trim:t=!0,collapseWhitespace:n=!0,stripAnsi:r=!0}=void 0===e?{}:e;return e=>{let o=e;return o=t?o.trim():o,o=n?o.replace(/\s+/g," "):o,o=r?h(o):o,o}}function b(e){let{trim:t,stripAnsi:n,collapseWhitespace:r,normalizer:o}=e;if(o){if(void 0!==t||void 0!==r||void 0!==n)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return o}return y({trim:t,collapseWhitespace:r,stripAnsi:n})}const p=y();function m(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function w(e,t,n){void 0===t&&(t="get");const r=p(e.stdoutArr.map((e=>e.contents)).join("\n"));if(o="Text",i=n,r&&(!i||i.toLowerCase()===o.toLowerCase()))return function(e,t,n,r){let{variant:o,name:i}=r;const s={},a=[[].includes(e)?n:m(n)];i&&(s.name=m(i)),Object.keys(s).length>0&&a.push(s);const c=`${o}By${e}`;return{queryName:e,queryMethod:c,queryArgs:a,variant:o,warning:"",toString(){let[e,t]=a;return e="string"==typeof e?`'${e}'`:e,t=t?`, { ${Object.entries(t).map((e=>{let[t,n]=e;return`${t}: ${n}`})).join(", ")} }`:"",`${c}(${e}${t})`}}}("Text",0,r,{variant:t});var o,i}function x(){return"undefined"!=typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}const v={current:void 0};function k(){return v.current}function E(e){v.current=e}function M(e,t){return Object.entries(t).reduce(((t,n)=>{let[r,o]=n;return t[r]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o(e,...n)},t}),{})}"function"==typeof afterEach&&afterEach((()=>{v.current=void 0}));let T={asyncUtilTimeout:1e3,renderAwaitTime:100,errorDebounceTimeout:100,unstable_advanceTimersWrapper:e=>e(),showOriginalStackTrace:!1,throwSuggestions:!1,getInstanceError(e,t){let n="";if(t){n=`\n${t.getStdallStr()}`}else n="";const r=new Error([e,n].filter(Boolean).join("\n\n"));return r.name="TestingLibraryElementError",r},_disableExpensiveErrorDiagnostics:!1};function K(){return T}function j(e,t){e.stack=t.stack.replace(t.message,e.message)}function A(e,t){return function(e,t){let{instance:n=k(),timeout:r=K().asyncUtilTimeout,showOriginalStackTrace:o=K().showOriginalStackTrace,stackTraceError:i,interval:s=50,onTimeout:a=(e=>(e.message=K().getInstanceError(e.message,n).message,e))}=t;if("function"!=typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise((async(t,n)=>{let l,u,h,d=!1,f="idle";const g=setTimeout((function(){let e;l?(e=l,o||"TestingLibraryElementError"!==e.name||j(e,i)):(e=new Error("Timed out in waitFor."),o||j(e,i)),b(a(e),null)}),r),y=x();if(y){const{unstable_advanceTimersWrapper:e}=K();for(m();!d;){if(!x()){const e=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return o||j(e,i),void n(e)}e((()=>{jest.advanceTimersByTime(s)})),m(),await e((async()=>{await new Promise((e=>{setTimeout(e,0),jest.advanceTimersByTime(0)}))}))}}else u=setInterval(p,s),h=new c(p),h.observe(),m();function b(e,r){d=!0,clearTimeout(g),y||(clearInterval(u),h.disconnect()),e?n(e):t(r)}function p(){if(x()){const e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return o||j(e,i),n(e)}return m()}function m(){if("pending"!==f)try{const t=e();"function"==typeof(t&&t.then)?(f="pending",t.then((e=>{f="resolved",b(null,e)}),(e=>{f="rejected",l=e}))):b(null,t)}catch(e){l=e}}}))}(e,{stackTraceError:new Error("STACK_TRACE_MESSAGE"),...t})}function B(e){return(t,n,r,o)=>A((()=>e(t,n,r)),{container:t,...o})}const O=(e,t,n)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];const a=e(r,...i),[{suggest:c=K().throwSuggestions}={}]=i.slice(-1);if(a&&c){const e=w(a,n);if(e&&!t.endsWith(e.queryName))throw function(e,t){return K().getInstanceError(`A better query is available, try this:\n${e.toString()}\n`,t)}(e.toString(),r)}return a};function L(e,t){const n=function(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];const s=e(n,...o);if(!s)throw K().getInstanceError(t(n,...o),n);return s}}(e,t);return[O(e,e.name,"get"),O(n,e.name,"get"),B(O(n,e.name,"find"))]}const[D,$,C]=L((function(e,t,n){let{exact:r=!1,collapseWhitespace:o,trim:i,normalizer:s,stripAnsi:a}=void 0===n?{}:n;const c=r?g:f,l=b({stripAnsi:a,collapseWhitespace:o,trim:i,normalizer:s});return c(e.stdoutArr.map((e=>e.contents)).join("\n"),e,t,l)?e:null}),((e,t)=>`Unable to find an stdout line with the text: ${t}. This could be because the text is broken up by multiple lines. In this case, you can provide a function for your text matcher to make your matcher more flexible.`)),[_,S,I]=L((function(e,t,n){let{exact:r=!1,collapseWhitespace:o,trim:i,normalizer:s,stripAnsi:a}=void 0===n?{}:n;const c=r?g:f,l=b({stripAnsi:a,collapseWhitespace:o,trim:i,normalizer:s});return c(e.stderrArr.map((e=>e.contents)).join("\n"),e,t,l)?e:null}),((e,t)=>`Unable to find an stdout line with the text: ${t}. This could be because the text is broken up by multiple lines. In this case, you can provide a function for your text matcher to make your matcher more flexible.`));var P=Object.freeze({__proto__:null,queryByText:D,getByText:$,findByText:C,queryByError:_,getByError:S,findByError:I});function z(e,t,n){return void 0===t&&(t=P),void 0===n&&(n={}),Object.keys(t).reduce(((n,r)=>{const o=t[r];return n[r]=o.bind(null,e),n}),n)}var q=o.default,R=q.spawn,W=q.exec;function F(e,t,n){var r={};try{Object.keys(e).forEach((function(n){e[n].forEach((function(e){r[e]||(N(e,t),r[e]=1)})),r[n]||(N(n,t),r[n]=1)}))}catch(e){if(n)return n(e);throw e}if(n)return n()}function N(e,t){try{process.kill(parseInt(e,10),t)}catch(e){if("ESRCH"!==e.code)throw e}}function U(e,t,n,r,o){var i=r(e),s="";i.stdout.on("data",(function(e){e=e.toString("ascii");s+=e}));i.on("close",(function(i){delete n[e],0==i?s.match(/\d+/g).forEach((function(i){i=parseInt(i,10),t[e].push(i),t[i]=[],n[i]=1,U(i,t,n,r,o)})):0==Object.keys(n).length&&o()}))}const G=(e,t)=>new Promise(((n,r)=>{!e.process.pid||e.process.pid&&e.hasExit()?n():function(e,t,n){if("function"==typeof t&&void 0===n&&(n=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(n)return n(new Error("pid must be a number"));throw new Error("pid must be a number")}var r={},o={};switch(r[e]=[],o[e]=1,process.platform){case"win32":W("taskkill /pid "+e+" /T /F",n);break;case"darwin":U(e,r,o,(function(e){return R("pgrep",["-P",e])}),(function(){F(r,t,n)}));break;default:U(e,r,o,(function(e){return R("ps",["-o","pid","--no-headers","--ppid",e])}),(function(){F(r,t,n)}))}}(e.process.pid,t,(async o=>{try{if(o){if(o.message.includes("The process")&&o.message.includes("not found."))return void n();if(o.message.includes("could not be terminated")&&o.message.includes("There is no running instance of the task.")&&e.hasExit())return void n();const s=o.message.includes("The operation attempted is not supported."),a=o.message.includes("Access is denied.");if(o.message.includes("could not be terminated")&&(s||a)){if(await(i=K().errorDebounceTimeout,new Promise((e=>setTimeout(e,i)))),e.hasExit())return void n();console.warn("Ran into error while trying to kill process:"),console.warn(o.toString()),console.warn("This is likely due to Window's permissions.\n                Because this error is prevalent on CI Windows systems with the tree-kill package, we are attempting\n                 an alternative kill method."),console.warn(),console.warn("Be aware that this alternative kill method is not guaranteed to work with subprocesses, and they may not exit properly as a result.");return void(e.process.kill(t)?n():(console.error("Alternative kill method failed. Rejecting with original error."),r(o)))}r(o)}else n()}catch(e){r(e)}var i}))})),Q="win32"===process.platform,Z={sigterm:e=>G(e,Q?void 0:"SIGTERM"),sigkill:e=>G(e,Q?void 0:"SIGKILL"),write:(e,t)=>e.process.stdin.write(t.value)},H=function(e,t,n){void 0===n&&(n=void 0),Z[t](e,n)};Object.entries(Z).forEach((e=>{let[t,n]=e;H[t]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,...r)}}));var Y=function(e){return e["["]="]",e}(Y||{});function J(e,t){const{type:n,descriptor:r,consumedLength:o}=function(e){let t=0;const n=e[t]in Y?e[t]:"";t+=n.length;const r=n?e.match(new RegExp(`^\\${n}+`))[0].length:0,o=2===r?"":n;return{type:o,...""===o?V(e,t):X(e,t,o)}}(e);return{keyDef:t.keyboardMap.find((e=>"["===n?e.code?.toLowerCase()===r.toLowerCase():e.hex===r))??{code:r,hex:"Unknown"},consumedLength:o}}function V(e,t){const n=e[t];return ee(n,e,t),{consumedLength:t+=n.length,descriptor:n,releasePrevious:!1,releaseSelf:!0,repeat:1}}function X(e,t,n){const r=e.slice(t).match(/^\w+/)?.[0];ee(r,e,t),t+=r.length;const o=Y[n],i=e[t]===o?o:"";if(!i)throw new Error(te(`"${o}"`,e[t],e));return{consumedLength:t+=i.length,descriptor:r}}function ee(e,t,n){if(!e)throw new Error(te("key descriptor",t[n],t))}function te(e,t,n){return`Expected ${e} but found "${t??""}" in "${n}"\n    See https://github.com/testing-library/user-event/blob/main/README.md#keyboardtext-options\n    for more information about how userEvent parses your input.`}async function ne(e,t,n){const{keyDef:r,consumedLength:o}=J(t,n);if(function(e,t){H.write(t,{value:e.hex})}(r,e),t.length>o)return n.delay>0&&await(i=n.delay,new Promise((e=>setTimeout((()=>e()),i)))),ne(e,t.slice(o),n);var i}const re=[{code:"Digit!",hex:"!"},{code:"Digit#",hex:"#"},{code:"Digit$",hex:"$"},{code:"Digit%",hex:"%"},{code:"Digit&",hex:"&"},{code:"Digit(",hex:")"},{code:"Digit)",hex:")"},{code:"Digit*",hex:"*"},{code:"Digit-",hex:"-"},{code:"Digit@",hex:"@"},{code:"Digit^",hex:"^"},{code:"Digit{",hex:"{"},{code:"Digit|",hex:"|"},{code:"Digit}",hex:"}"},{code:"Digit~",hex:"~"},{code:"Digit0",hex:"0"},{code:"Digit1",hex:"1"},{code:"Digit2",hex:"2"},{code:"Digit3",hex:"3"},{code:"Digit4",hex:"4"},{code:"Digit5",hex:"5"},{code:"Digit6",hex:"6"},{code:"Digit7",hex:"7"},{code:"Digit8",hex:"8"},{code:"Digit9",hex:"9"},{code:"KeyA",hex:"A"},{code:"KeyB",hex:"B"},{code:"KeyC",hex:"C"},{code:"KeyD",hex:"D"},{code:"KeyE",hex:"E"},{code:"KeyF",hex:"F"},{code:"KeyG",hex:"G"},{code:"KeyH",hex:"H"},{code:"KeyI",hex:"I"},{code:"KeyJ",hex:"J"},{code:"KeyK",hex:"K"},{code:"KeyL",hex:"L"},{code:"KeyM",hex:"M"},{code:"KeyN",hex:"N"},{code:"KeyO",hex:"O"},{code:"KeyP",hex:"P"},{code:"KeyQ",hex:"Q"},{code:"KeyR",hex:"R"},{code:"KeyS",hex:"S"},{code:"KeyT",hex:"T"},{code:"KeyU",hex:"U"},{code:"KeyV",hex:"V"},{code:"KeyW",hex:"W"},{code:"KeyX",hex:"X"},{code:"KeyY",hex:"Y"},{code:"KeyZ",hex:"Z"},{code:"Digit_",hex:"_"},{code:"KeyLowerA",hex:"a"},{code:"KeyLowerB",hex:"b"},{code:"KeyLowerC",hex:"c"},{code:"KeyLowerD",hex:"d"},{code:"KeyLowerE",hex:"e"},{code:"KeyLowerF",hex:"f"},{code:"KeyLowerG",hex:"g"},{code:"KeyLowerH",hex:"h"},{code:"KeyLowerI",hex:"i"},{code:"KeyLowerJ",hex:"j"},{code:"KeyLowerK",hex:"k"},{code:"KeyLowerL",hex:"l"},{code:"KeyLowerM",hex:"m"},{code:"KeyLowerN",hex:"n"},{code:"KeyLowerO",hex:"o"},{code:"KeyLowerP",hex:"p"},{code:"KeyLowerQ",hex:"q"},{code:"KeyLowerR",hex:"r"},{code:"KeyLowerS",hex:"s"},{code:"KeyLowerT",hex:"t"},{code:"KeyLowerU",hex:"u"},{code:"KeyLowerV",hex:"v"},{code:"KeyLowerW",hex:"w"},{code:"KeyLowerX",hex:"x"},{code:"KeyLowerY",hex:"y"},{code:"KeyLowerZ",hex:"z"},{code:"Space",hex:" "},{code:"Backspace",hex:"\b"},{code:"Enter",hex:"\r"},{code:"Escape",hex:""},{code:"ArrowUp",hex:"[A"},{code:"ArrowDown",hex:"[B"},{code:"ArrowLeft",hex:"[D"},{code:"ArrowRight",hex:"[C"},{code:"Home",hex:"OH"},{code:"End",hex:"OF"},{code:"Delete",hex:"[3~"},{code:"PageUp",hex:"[5~"},{code:"PageDown",hex:"[6~"}];const oe={keyboard:function(e,t,n){const{promise:r}=function(e,t,n){void 0===n&&(n={});const{delay:r=0,keyboardMap:o=re}=n;return{promise:ne(e,t,{delay:r,keyboardMap:o})}}(e,t,n);if((n?.delay??0)>0)return r;r.catch(console.error)}};var ie={exports:{}};const se=e=>!Number.isNaN(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141));ie.exports=se,ie.exports.default=se;const ae="[\ud800-\udbff][\udc00-\udfff]";var ce,le,ue,he,de,fe,ge,ye,be=e=>e&&e.exact?new RegExp(`^${ae}$`):new RegExp(ae,"g"),pe={exports:{}};function me(){if(he)return ue;he=1;const e=le?ce:(le=1,ce={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),t={};for(const n of Object.keys(e))t[e[n]]=n;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ue=n;for(const e of Object.keys(n)){if(!("channels"in n[e]))throw new Error("missing channels property: "+e);if(!("labels"in n[e]))throw new Error("missing channel labels property: "+e);if(n[e].labels.length!==n[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=n[e];delete n[e].channels,delete n[e].labels,Object.defineProperty(n[e],"channels",{value:t}),Object.defineProperty(n[e],"labels",{value:r})}return n.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=i-o;let a,c;i===o?a=0:t===i?a=(n-r)/s:n===i?a=2+(r-t)/s:r===i&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(o+i)/2;return c=i===o?0:l<=.5?s/(i+o):s/(2-i-o),[a,100*c,100*l]},n.rgb.hsv=function(e){let t,n,r,o,i;const s=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),h=function(e){return(l-e)/6/u+.5};return 0===u?(o=0,i=0):(i=u/l,t=h(s),n=h(a),r=h(c),s===l?o=r-n:a===l?o=1/3+t-r:c===l&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*l]},n.rgb.hwb=function(e){const t=e[0],r=e[1];let o=e[2];const i=n.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,o));return o=1-1/255*Math.max(t,Math.max(r,o)),[i,100*s,100*o]},n.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},n.rgb.keyword=function(n){const r=t[n];if(r)return r;let o,i=1/0;for(const t of Object.keys(e)){const r=e[t],c=(a=r,((s=n)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);c<i&&(i=c,o=t)}var s,a;return o},n.keyword.rgb=function(t){return e[t]},n.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},n.rgb.lab=function(e){const t=n.rgb.xyz(e);let r=t[0],o=t[1],i=t[2];r/=95.047,o/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*o-16,500*(r-o),200*(o-i)]},n.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let o,i,s;if(0===n)return s=255*r,[s,s,s];o=r<.5?r*(1+n):r+n-r*n;const a=2*r-o,c=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,s=6*i<1?a+6*(o-a)*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,c[e]=255*s;return c},n.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,o=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i;return[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},n.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const o=Math.floor(t)%6,i=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,c,s];case 1:return[a,r,s];case 2:return[s,r,c];case 3:return[s,a,r];case 4:return[c,s,r];case 5:return[r,s,a]}},n.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,o=Math.max(r,.01);let i,s=(2-n)*r;const a=(2-n)*o;return i=n*o,i/=a<=1?a:2-a,i=i||0,s/=2,[t,100*i,100*s]},n.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const o=n+r;let i;o>1&&(n/=o,r/=o);const s=Math.floor(6*t),a=1-r;i=6*t-s,0!=(1&s)&&(i=1-i);const c=n+i*(a-n);let l,u,h;switch(s){default:case 6:case 0:l=a,u=c,h=n;break;case 1:l=c,u=a,h=n;break;case 2:l=n,u=a,h=c;break;case 3:l=n,u=c,h=a;break;case 4:l=c,u=n,h=a;break;case 5:l=a,u=n,h=c}return[255*l,255*u,255*h]},n.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},n.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let o,i,s;return o=3.2406*t+-1.5372*n+-.4986*r,i=-.9689*t+1.8758*n+.0415*r,s=.0557*t+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[255*o,255*i,255*s]},n.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},n.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const o=n**3,i=t**3,s=r**3;return n=o>.008856?o:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},n.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let o;o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360);return[t,Math.sqrt(n*n+r*r),o]},n.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},n.rgb.ansi16=function(e,t){void 0===t&&(t=null);const[r,o,i]=e;let s=null===t?n.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(o/255)<<1|Math.round(r/255));return 2===s&&(a+=60),a},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},n.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},n.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},n.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},n.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},n.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),s=o-i;let a,c;return a=s<1?i/(1-s):0,c=s<=0?0:o===t?(n-r)/s%6:o===n?2+(r-t)/s:4+(t-n)/s,c/=6,c%=1,[360*c,100*s,100*a]},n.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},n.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},n.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const o=[0,0,0],i=t%1*6,s=i%1,a=1-s;let c=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return c=(1-n)*r,[255*(n*o[0]+c),255*(n*o[1]+c),255*(n*o[2]+c)]},n.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},n.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},n.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},n.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=function(e){return[0,0,e[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]},ue}function we(){if(fe)return de;fe=1;const e=me();function t(t){const n=function(){const t={},n=Object.keys(e);for(let e=n.length,r=0;r<e;r++)t[n[r]]={distance:-1,parent:null};return t}(),r=[t];for(n[t].distance=0;r.length;){const t=r.pop(),o=Object.keys(e[t]);for(let e=o.length,i=0;i<e;i++){const e=o[i],s=n[e];-1===s.distance&&(s.distance=n[t].distance+1,s.parent=t,r.unshift(e))}}return n}function n(e,t){return function(n){return t(e(n))}}function r(t,r){const o=[r[t].parent,t];let i=e[r[t].parent][t],s=r[t].parent;for(;r[s].parent;)o.unshift(r[s].parent),i=n(e[r[s].parent][s],i),s=r[s].parent;return i.conversion=o,i}return de=function(e){const n=t(e),o={},i=Object.keys(n);for(let e=i.length,t=0;t<e;t++){const e=i[t];null!==n[e].parent&&(o[e]=r(e,n))}return o}}function xe(){if(ye)return ge;ye=1;const e=me(),t=we(),n={};return Object.keys(e).forEach((r=>{n[r]={},Object.defineProperty(n[r],"channels",{value:e[r].channels}),Object.defineProperty(n[r],"labels",{value:e[r].labels});const o=t(r);Object.keys(o).forEach((e=>{const t=o[e];n[r][e]=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];if(null==o)return o;o.length>1&&(n=o);const i=e(n);if("object"==typeof i)for(let e=i.length,t=0;t<e;t++)i[t]=Math.round(i[t]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}(t),n[r][e].raw=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];return null==o?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(t)}))})),ge=n}!function(e){const t=(e,t)=>function(){return`[${e(...arguments)+t}m`},n=(e,t)=>function(){const n=e(...arguments);return`[${38+t};5;${n}m`},r=(e,t)=>function(){const n=e(...arguments);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},o=e=>e,i=(e,t,n)=>[e,t,n],s=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let a;const c=(e,t,n,r)=>{void 0===a&&(a=xe());const o=r?10:0,i={};for(const[r,s]of Object.entries(a)){const a="ansi16"===r?"ansi":r;r===t?i[a]=e(n,o):"object"==typeof s&&(i[a]=e(s[t],o))}return i};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,n]of Object.entries(a)){for(const[t,r]of Object.entries(n))a[t]={open:`[${r[0]}m`,close:`[${r[1]}m`},n[t]=a[t],e.set(r[0],r[1]);Object.defineProperty(a,t,{value:n,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",s(a.color,"ansi",(()=>c(t,"ansi16",o,!1))),s(a.color,"ansi256",(()=>c(n,"ansi256",o,!1))),s(a.color,"ansi16m",(()=>c(r,"rgb",i,!1))),s(a.bgColor,"ansi",(()=>c(t,"ansi16",o,!0))),s(a.bgColor,"ansi256",(()=>c(n,"ansi256",o,!0))),s(a.bgColor,"ansi16m",(()=>c(r,"rgb",i,!0))),a}})}(pe);const ve=ie.exports,ke=be,Ee=pe.exports,Me=["",""],Te=e=>`${Me[0]}[${e}m`,Ke=(e,t,n)=>{let r=[];e=[...e];for(let n of e){const o=n;n.includes(";")&&(n=n.split(";")[0][0]+"0");const i=Ee.codes.get(Number.parseInt(n,10));if(i){const n=e.indexOf(i.toString());-1===n?r.push(Te(t?i:o)):e.splice(n,1)}else{if(t){r.push(Te(0));break}r.push(Te(o))}}if(t&&(r=r.filter(((e,t)=>r.indexOf(e)===t)),void 0!==n)){const e=Te(Ee.codes.get(Number.parseInt(n,10)));r=r.reduce(((t,n)=>n===e?[n,...t]:[...t,n]),[])}return r.join("")};let je=null,Ae=null,Be=null;try{const e=module&&module.require;Ae=e.call(module,"fs").readFileSync,Be=e.call(module,"@babel/code-frame").codeFrameColumns,je=e.call(module,"chalk")}catch(e){}function Oe(){if(!Ae||!Be)return"";return function(e){const t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.slice(t,n),o=r.split(":"),[i,s,a]=[o[0],parseInt(o[1],10),parseInt(o[2],10)];let c="";try{c=Ae(i,"utf-8")}catch(e){return""}const l=Be(c,{start:{line:s,column:a}},{highlightCode:!0,linesBelow:0});return`${je.dim(r)}\n${l}\n`}((new Error).stack.split("\n").slice(1).find((e=>!e.includes("node_modules/"))))}function Le(e,t){if("number"!=typeof t&&(t=7e3),0===t)return"";if(!("stdoutArr"in e)||!("stderrArr"in e))throw new TypeError(`Expected an instance but got ${e}`);const n=e.getStdallStr();return void 0!==t&&n.length>t?((e,t,n)=>{const r=[...e],o=[];let i,s="number"==typeof n?n:r.length,a=!1,c=0,l="";for(const[u,h]of r.entries()){let r=!1;if(Me.includes(h)){const t=/\d[^m]*/.exec(e.slice(u,u+18));i=t&&t.length>0?t[0]:void 0,c<s&&(a=!0,void 0!==i&&o.push(i))}else a&&"m"===h&&(a=!1,r=!0);if(a||r||c++,!ke({exact:!0}).test(h)&&ve(h.codePointAt())&&(c++,"number"!=typeof n&&s++),c>t&&c<=s)l+=h;else if(c!==t||a||void 0===i){if(c>=s){l+=Ke(o,!0,i);break}}else l=Ke(o)}return l})(n,0,t):n}const De=new Set;function $e(){return Promise.all(Array.from(De).map(Ce))}async function Ce(e){await H.sigkill(e),De.delete(e)}("undefined"==typeof process||(process.env,1))&&("function"==typeof afterEach?afterEach((async()=>{await $e()})):"function"==typeof teardown&&teardown((async()=>{await $e()}))),e.MutationObserver=c,e._runObservers=l,e.bindObjectFnsToInstance=M,e.buildQueries=L,e.cleanup=$e,e.configure=function(e){"function"==typeof e&&(e=e(T)),T={...T,...e}},e.debounce=function(e,t){var n=this;let r;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];clearTimeout(r),r=setTimeout((()=>{e.apply(n,i)}),t)}},e.findByError=I,e.findByText=C,e.fireEvent=H,e.fuzzyMatches=f,e.getByError=S,e.getByText=$,e.getConfig=K,e.getCurrentInstance=k,e.getDefaultNormalizer=y,e.getInstanceError=function(e,t){return K().getInstanceError(e,t)},e.getQueriesForElement=z,e.jestFakeTimersAreEnabled=x,e.makeFindQuery=B,e.makeNormalizer=b,e.matches=g,e.queryByError=_,e.queryByText=D,e.render=async function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r={});const{cwd:s=__dirname,spawnOpts:a={}}=r,c=o.default.spawn(e,t,{...a,cwd:s,shell:!0});let u=null,h=!1;const d={__exitCode:null,_isOutputAPI:!0,_isReady:new Promise(((e,t)=>u={resolve:e,reject:t})),process:c,clear(){d.stdoutArr=[],d.stderrArr=[]},debug(e){!function(){const e=Oe();e?process.stdout.write(`${Le(...arguments)}\n\n${e}`):process.stdout.write(Le(...arguments))}(d,e)},stdoutArr:[],stderrArr:[],hasExit(){return null===this.__exitCode?null:{exitCode:this.__exitCode}}};return De.add(d),c.stdout.on("data",(e=>{u&&!h&&(u.resolve(),h=!0);const t=i(e);d.stdoutArr.push({contents:t,timestamp:n.performance.now()}),l()})),c.stderr.on("data",(e=>{u&&!h&&(u.resolve(),h=!0);const t=i(e);d.stderrArr.push({contents:t,timestamp:n.performance.now()}),l()})),c.on("error",(e=>{u&&u.reject(e)})),c.on("spawn",(()=>{setTimeout((()=>{u&&!h&&(u.resolve(),h=!0)}),K().renderAwaitTime)})),c.on("exit",(e=>{d.__exitCode=e??0})),E(d),await d._isReady,Object.assign(d,{userEvent:M(d,oe),getStdallStr:function(){return this.stderrArr.concat(this.stdoutArr).sort(((e,t)=>e.timestamp<t.timestamp?-1:1)).map((e=>e.contents)).join("\n")}.bind(d)},z(d))},e.runWithExpensiveErrorDiagnosticsDisabled=function(e){try{return T._disableExpensiveErrorDiagnostics=!0,e()}finally{T._disableExpensiveErrorDiagnostics=!1}},e.setCurrentInstance=E,e.waitFor=A,e.wrapSingleQueryWithSuggestion=O,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=cli-testing-library.umd.min.js.map
