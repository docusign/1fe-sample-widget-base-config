"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.keyboard = keyboard;
exports.keyboardImplementationWrapper = keyboardImplementationWrapper;
var _keyboardImplementation = require("./keyboardImplementation");
var _keyMap = require("./keyMap");
function keyboard(instance, text, options) {
  var _options$delay;
  const {
    promise
  } = keyboardImplementationWrapper(instance, text, options);
  if (((_options$delay = options == null ? void 0 : options.delay) != null ? _options$delay : 0) > 0) {
    return promise;
  } else {
    // prevent users from dealing with UnhandledPromiseRejectionWarning in sync call
    promise.catch(console.error);
  }
}
function keyboardImplementationWrapper(instance, text, config = {}) {
  const {
    delay = 0,
    keyboardMap = _keyMap.defaultKeyMap
  } = config;
  const options = {
    delay,
    keyboardMap
  };
  return {
    promise: (0, _keyboardImplementation.keyboardImplementation)(instance, text, options)
  };
}