{"version":3,"file":"cli-testing-library.umd.min.js","sources":["../node_modules/strip-final-newline/index.js","../src/mutation-observer.js","../node_modules/strip-ansi/index.js","../node_modules/ansi-regex/index.js","../src/matches.js","../src/suggestions.js","../src/helpers.js","../src/config.ts","../src/wait-for.js","../src/query-helpers.ts","../src/queries/text.ts","../src/queries/error.ts","../src/get-queries-for-instance.js","../node_modules/tree-kill/index.js","../src/process-helpers.ts","../src/event-map.ts","../src/events.js","../src/user-event/keyboard/getNextKeyDef.ts","../src/user-event/keyboard/keyboardImplementation.ts","../src/user-event/utils.ts","../src/user-event/keyboard/keyMap.ts","../src/user-event/index.ts","../src/user-event/keyboard/index.ts","../node_modules/is-fullwidth-code-point/index.js","../node_modules/astral-regex/index.js","../node_modules/slice-ansi/node_modules/color-convert/conversions.js","../node_modules/slice-ansi/node_modules/color-name/index.js","../node_modules/slice-ansi/node_modules/color-convert/route.js","../node_modules/slice-ansi/node_modules/color-convert/index.js","../node_modules/slice-ansi/node_modules/ansi-styles/index.js","../node_modules/slice-ansi/index.js","../src/get-user-code-frame.js","../src/pretty-cli.js","../src/pure.ts","../src/index.js"],"sourcesContent":["'use strict';\n\nmodule.exports = input => {\n\tconst LF = typeof input === 'string' ? '\\n' : '\\n'.charCodeAt();\n\tconst CR = typeof input === 'string' ? '\\r' : '\\r'.charCodeAt();\n\n\tif (input[input.length - 1] === LF) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\tif (input[input.length - 1] === CR) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\treturn input;\n};\n","// Used for `MutationObserver`. Unsure if it's really needed, but it's worth mentioning that these are not tied to\n// specific CLI instances of `render`. This means that if there are e2e CLI tests that run in parallel, they will\n// execute far more frequently than needed.\nconst _observers = new Map()\n\n// Not perfect as a way to make \"MutationObserver\" unique IDs, but it should work\nlet mutId = 0\n\nclass MutationObserver {\n  constructor(cb) {\n    this._id = ++mutId\n    this._cb = cb\n  }\n\n  observe() {\n    _observers.set(this._id, this._cb)\n  }\n\n  disconnect() {\n    _observers.delete(this._id)\n  }\n}\n\nfunction _runObservers() {\n  Array.from(_observers.values()).forEach(cb => cb())\n}\n\nexport {_runObservers, MutationObserver}\n","'use strict';\nconst ansiRegex = require('ansi-regex');\n\nmodule.exports = string => typeof string === 'string' ? string.replace(ansiRegex(), '') : string;\n","'use strict';\n\nmodule.exports = ({onlyFirst = false} = {}) => {\n\tconst pattern = [\n\t\t'[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\n\t\t'(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))'\n\t].join('|');\n\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\n};\n","import stripAnsiFn from 'strip-ansi'\n\nfunction assertNotNullOrUndefined(matcher) {\n  if (matcher === null || matcher === undefined) {\n    throw new Error(\n      // eslint-disable-next-line @typescript-eslint/restrict-template-expressions -- implicitly converting `T` to `string`\n      `It looks like ${matcher} was passed instead of a matcher. Did you do something like getByText(${matcher})?`,\n    )\n  }\n}\n\nfunction fuzzyMatches(textToMatch, node, matcher, normalizer) {\n  if (typeof textToMatch !== 'string') {\n    return false\n  }\n  assertNotNullOrUndefined(matcher)\n\n  const normalizedText = normalizer(textToMatch)\n\n  if (typeof matcher === 'string' || typeof matcher === 'number') {\n    return normalizedText\n      .toLowerCase()\n      .includes(matcher.toString().toLowerCase())\n  } else if (typeof matcher === 'function') {\n    return matcher(normalizedText, node)\n  } else {\n    return matcher.test(normalizedText)\n  }\n}\n\nfunction matches(textToMatch, node, matcher, normalizer) {\n  if (typeof textToMatch !== 'string') {\n    return false\n  }\n\n  assertNotNullOrUndefined(matcher)\n\n  const normalizedText = normalizer(textToMatch)\n  if (matcher instanceof Function) {\n    return matcher(normalizedText, node)\n  } else if (matcher instanceof RegExp) {\n    return matcher.test(normalizedText)\n  } else {\n    return normalizedText === String(matcher)\n  }\n}\n\nfunction getDefaultNormalizer({\n  trim = true,\n  collapseWhitespace = true,\n  stripAnsi = true,\n} = {}) {\n  return text => {\n    let normalizedText = text\n    normalizedText = trim ? normalizedText.trim() : normalizedText\n    normalizedText = collapseWhitespace\n      ? normalizedText.replace(/\\s+/g, ' ')\n      : normalizedText\n    normalizedText = stripAnsi ? stripAnsiFn(normalizedText) : normalizedText\n    return normalizedText\n  }\n}\n\n/**\n * @param {Object} props\n * Constructs a normalizer to pass to functions in matches.js\n * @param {boolean|undefined} props.trim The user-specified value for `trim`, without\n * any defaulting having been applied\n * @param {boolean|undefined} props.stripAnsi The user-specified value for `stripAnsi`, without\n * any defaulting having been applied\n * @param {boolean|undefined} props.collapseWhitespace The user-specified value for\n * `collapseWhitespace`, without any defaulting having been applied\n * @param {Function|undefined} props.normalizer The user-specified normalizer\n * @returns {Function} A normalizer\n */\n\nfunction makeNormalizer({trim, stripAnsi, collapseWhitespace, normalizer}) {\n  if (normalizer) {\n    // User has specified a custom normalizer\n    if (\n      typeof trim !== 'undefined' ||\n      typeof collapseWhitespace !== 'undefined' ||\n      typeof stripAnsi !== 'undefined'\n    ) {\n      // They've also specified a value for trim or collapseWhitespace\n      throw new Error(\n        'trim and collapseWhitespace are not supported with a normalizer. ' +\n          'If you want to use the default trim and collapseWhitespace logic in your normalizer, ' +\n          'use \"getDefaultNormalizer({trim, collapseWhitespace})\" and compose that into your normalizer',\n      )\n    }\n\n    return normalizer\n  } else {\n    // No custom normalizer specified. Just use default.\n    return getDefaultNormalizer({trim, collapseWhitespace, stripAnsi})\n  }\n}\n\nexport {fuzzyMatches, matches, getDefaultNormalizer, makeNormalizer}\n","import {getDefaultNormalizer} from './matches'\n\nconst normalize = getDefaultNormalizer()\n\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nfunction getRegExpMatcher(string) {\n  return new RegExp(escapeRegExp(string.toLowerCase()), 'i')\n}\n\nfunction makeSuggestion(queryName, element, content, {variant, name}) {\n  const warning = ''\n  const queryOptions = {}\n  const queryArgs = [\n    [].includes(queryName) ? content : getRegExpMatcher(content),\n  ]\n\n  if (name) {\n    queryOptions.name = getRegExpMatcher(name)\n  }\n\n  if (Object.keys(queryOptions).length > 0) {\n    queryArgs.push(queryOptions)\n  }\n\n  const queryMethod = `${variant}By${queryName}`\n\n  return {\n    queryName,\n    queryMethod,\n    queryArgs,\n    variant,\n    warning,\n    toString() {\n      if (warning) {\n        console.warn(warning)\n      }\n      let [text, options] = queryArgs\n\n      text = typeof text === 'string' ? `'${text}'` : text\n\n      options = options\n        ? `, { ${Object.entries(options)\n            .map(([k, v]) => `${k}: ${v}`)\n            .join(', ')} }`\n        : ''\n\n      return `${queryMethod}(${text}${options})`\n    },\n  }\n}\n\nfunction canSuggest(currentMethod, requestedMethod, data) {\n  return (\n    data &&\n    (!requestedMethod ||\n      requestedMethod.toLowerCase() === currentMethod.toLowerCase())\n  )\n}\n\nexport function getSuggestedQuery(instance, variant = 'get', method) {\n  const textContent = normalize(\n    instance.stdoutArr.map(obj => obj.contents).join('\\n'),\n  )\n  if (canSuggest('Text', method, textContent)) {\n    return makeSuggestion('Text', instance, textContent, {variant})\n  }\n\n  return undefined\n}\n","function jestFakeTimersAreEnabled() {\n  /* istanbul ignore else */\n  if (typeof jest !== 'undefined' && jest !== null) {\n    return (\n      // legacy timers\n      setTimeout._isMockFunction === true ||\n      // modern timers\n      // eslint-disable-next-line prefer-object-has-own\n      Object.prototype.hasOwnProperty.call(setTimeout, 'clock')\n    )\n  }\n  // istanbul ignore next\n  return false\n}\n\nconst instanceRef = {current: undefined}\n\nif (typeof afterEach === 'function') {\n  afterEach(() => {\n    instanceRef.current = undefined\n  })\n}\n\nfunction getCurrentInstance() {\n  /**\n   * Worth mentioning that this deviates from the upstream implementation\n   * of `dom-testing-library`'s `getDocument` in waitFor, which throws an error whenever\n   * `window` is not defined.\n   *\n   * Admittedly, this is another way that `cli-testing-library` will need to figure out\n   * the right solution to this problem, since there is no omni-present parent `instance`\n   * in a CLI like there is in a browser. (although FWIW, \"process\" might work)\n   *\n   * Have ideas how to solve? Please let us know:\n   * https://github.com/crutchcorn/cli-testing-library/issues/\n   */\n  return instanceRef.current\n}\n\n// TODO: Does this need to be namespaced for each test that runs?\n//  That way, we don't end up with a \"singleton\" that ends up wiped between\n//  parallel tests.\nfunction setCurrentInstance(newInstance) {\n  instanceRef.current = newInstance\n}\n\nfunction debounce(func, timeout) {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      // eslint-disable-next-line no-invalid-this\n      func.apply(this, args)\n    }, timeout)\n  }\n}\n\n/**\n * This is used to bind a series of functions where `instance` is the first argument\n * to an instance, removing the implicit first argument.\n */\nfunction bindObjectFnsToInstance(instance, object) {\n  return Object.entries(object).reduce((prev, [key, fn]) => {\n    prev[key] = (...props) => fn(instance, ...props)\n    return prev\n  }, {})\n}\n\nexport {\n  jestFakeTimersAreEnabled,\n  setCurrentInstance,\n  getCurrentInstance,\n  debounce,\n  bindObjectFnsToInstance,\n}\n","import {Config, ConfigFn} from '../types/config'\nimport {TestInstance} from '../types/pure'\n// import {prettyDOM} from './pretty-dom'\n\ntype Callback<T> = () => T\ninterface InternalConfig extends Config {\n  _disableExpensiveErrorDiagnostics: boolean\n}\n\n// It would be cleaner for this to live inside './queries', but\n// other parts of the code assume that all exports from\n// './queries' are query functions.\nlet config: InternalConfig = {\n  asyncUtilTimeout: 1000,\n  // Short amount of time to wait for your process to spin up after a `spawn`. AFAIK There's unfortunately not much\n  // of a better way to do this\n  renderAwaitTime: 100,\n  // Internal timer time to wait before attempting error recovery debounce action\n  errorDebounceTimeout: 100,\n  unstable_advanceTimersWrapper: cb => cb(),\n  // default value for the `hidden` option in `ByRole` queries\n  // showOriginalStackTrace flag to show the full error stack traces for async errors\n  showOriginalStackTrace: false,\n\n  // throw errors w/ suggestions for better queries. Opt in so off by default.\n  throwSuggestions: false,\n\n  // called when getBy* queries fail. (message, container) => Error\n  getInstanceError(message, testInstance: TestInstance | undefined) {\n    let instanceWarning: string = ''\n    if (testInstance) {\n      const stdallArrStr = testInstance.getStdallStr()\n      instanceWarning = `\\n${stdallArrStr}`\n    } else {\n      instanceWarning = ''\n    }\n    const error = new Error(\n      [message, instanceWarning].filter(Boolean).join('\\n\\n'),\n    )\n    error.name = 'TestingLibraryElementError'\n    return error\n  },\n  _disableExpensiveErrorDiagnostics: false,\n}\n\nexport function runWithExpensiveErrorDiagnosticsDisabled<T>(\n  callback: Callback<T>,\n) {\n  try {\n    config._disableExpensiveErrorDiagnostics = true\n    return callback()\n  } finally {\n    config._disableExpensiveErrorDiagnostics = false\n  }\n}\n\nexport function configure(newConfig: ConfigFn | Partial<Config>) {\n  if (typeof newConfig === 'function') {\n    // Pass the existing config out to the provided function\n    // and accept a delta in return\n    newConfig = newConfig(config)\n  }\n\n  // Merge the incoming config delta\n  config = {\n    ...config,\n    ...newConfig,\n  }\n}\n\nexport function getConfig(): Config {\n  return config\n}\n","// Migrated from: https://github.com/testing-library/dom-testing-library/blob/main/src/wait-for.js\n// TODO: Migrate back to use `config.js` file\nimport {getCurrentInstance, jestFakeTimersAreEnabled} from './helpers'\nimport {MutationObserver} from './mutation-observer'\nimport {getConfig} from './config'\n\n// This is so the stack trace the developer sees is one that's\n// closer to their code (because async stack traces are hard to follow).\nfunction copyStackTrace(target, source) {\n  target.stack = source.stack.replace(source.message, target.message)\n}\n\nfunction waitFor(\n  callback,\n  {\n    instance = getCurrentInstance(),\n    timeout = getConfig().asyncUtilTimeout,\n    showOriginalStackTrace = getConfig().showOriginalStackTrace,\n    stackTraceError,\n    interval = 50,\n    onTimeout = error => {\n      error.message = getConfig().getInstanceError(\n        error.message,\n        instance,\n      ).message\n      return error\n    },\n  },\n) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('Received `callback` arg must be a function')\n  }\n\n  return new Promise(async (resolve, reject) => {\n    let lastError, intervalId, observer\n    let finished = false\n    let promiseStatus = 'idle'\n\n    const overallTimeoutTimer = setTimeout(handleTimeout, timeout)\n\n    const usingJestFakeTimers = jestFakeTimersAreEnabled()\n    if (usingJestFakeTimers) {\n      const {unstable_advanceTimersWrapper: advanceTimersWrapper} = getConfig()\n      checkCallback()\n      // this is a dangerous rule to disable because it could lead to an\n      // infinite loop. However, eslint isn't smart enough to know that we're\n      // setting finished inside `onDone` which will be called when we're done\n      // waiting or when we've timed out.\n      // eslint-disable-next-line no-unmodified-loop-condition\n      while (!finished) {\n        if (!jestFakeTimersAreEnabled()) {\n          const error = new Error(\n            `Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830`,\n          )\n          if (!showOriginalStackTrace) copyStackTrace(error, stackTraceError)\n          reject(error)\n          return\n        }\n        // we *could* (maybe should?) use `advanceTimersToNextTimer` but it's\n        // possible that could make this loop go on forever if someone is using\n        // third party code that's setting up recursive timers so rapidly that\n        // the user's timer's don't get a chance to resolve. So we'll advance\n        // by an interval instead. (We have a test for this case).\n        advanceTimersWrapper(() => {\n          jest.advanceTimersByTime(interval)\n        })\n\n        // It's really important that checkCallback is run *before* we flush\n        // in-flight promises. To be honest, I'm not sure why, and I can't quite\n        // think of a way to reproduce the problem in a test, but I spent\n        // an entire day banging my head against a wall on this.\n        checkCallback()\n\n        // In this rare case, we *need* to wait for in-flight promises\n        // to resolve before continuing. We don't need to take advantage\n        // of parallelization so we're fine.\n        // https://stackoverflow.com/a/59243586/971592\n        // eslint-disable-next-line no-await-in-loop\n        await advanceTimersWrapper(async () => {\n          await new Promise(r => {\n            setTimeout(r, 0)\n            jest.advanceTimersByTime(0)\n          })\n        })\n      }\n    } else {\n      intervalId = setInterval(checkRealTimersCallback, interval)\n      observer = new MutationObserver(checkRealTimersCallback)\n      observer.observe()\n      checkCallback()\n    }\n\n    function onDone(error, result) {\n      finished = true\n      clearTimeout(overallTimeoutTimer)\n\n      if (!usingJestFakeTimers) {\n        clearInterval(intervalId)\n        observer.disconnect()\n      }\n\n      if (error) {\n        reject(error)\n      } else {\n        resolve(result)\n      }\n    }\n\n    function checkRealTimersCallback() {\n      if (jestFakeTimersAreEnabled()) {\n        const error = new Error(\n          `Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830`,\n        )\n        if (!showOriginalStackTrace) copyStackTrace(error, stackTraceError)\n        return reject(error)\n      } else {\n        return checkCallback()\n      }\n    }\n\n    function checkCallback() {\n      if (promiseStatus === 'pending') return\n      try {\n        const result = callback() // runWithExpensiveErrorDiagnosticsDisabled(callback)\n        if (typeof (result && result.then) === 'function') {\n          promiseStatus = 'pending'\n          result.then(\n            resolvedValue => {\n              promiseStatus = 'resolved'\n              onDone(null, resolvedValue)\n            },\n            rejectedValue => {\n              promiseStatus = 'rejected'\n              lastError = rejectedValue\n            },\n          )\n        } else {\n          onDone(null, result)\n        }\n        // If `callback` throws, wait for the next mutation, interval, or timeout.\n      } catch (error) {\n        // Save the most recent callback error to reject the promise with it in the event of a timeout\n        lastError = error\n      }\n    }\n\n    function handleTimeout() {\n      let error\n      if (lastError) {\n        error = lastError\n        if (\n          !showOriginalStackTrace &&\n          error.name === 'TestingLibraryElementError'\n        ) {\n          copyStackTrace(error, stackTraceError)\n        }\n      } else {\n        error = new Error('Timed out in waitFor.')\n        if (!showOriginalStackTrace) {\n          copyStackTrace(error, stackTraceError)\n        }\n      }\n      onDone(onTimeout(error), null)\n    }\n  })\n}\n\nfunction waitForWrapper(callback, options) {\n  // create the error here so its stack trace is as close to the\n  // calling code as possible\n  const stackTraceError = new Error('STACK_TRACE_MESSAGE')\n  return waitFor(callback, {stackTraceError, ...options})\n}\n\nexport {waitForWrapper as waitFor}\n\n/*\neslint\n  max-lines-per-function: [\"error\", {\"max\": 200}],\n*/\n","import type {\n  GetErrorFunction,\n  Matcher,\n  MatcherOptions,\n  QueryMethod,\n  waitForOptions as WaitForOptions,\n  WithSuggest,\n  Variant,\n} from '../types'\nimport {TestInstance} from '../types/pure'\nimport {getSuggestedQuery} from './suggestions'\nimport {waitFor} from './wait-for'\nimport {getConfig} from './config'\n\nfunction getInstanceError(message: string | null, instance: TestInstance) {\n  return getConfig().getInstanceError(message, instance)\n}\n\nfunction getSuggestionError(\n  suggestion: {toString(): string},\n  container: TestInstance,\n) {\n  return getConfig().getInstanceError(\n    `A better query is available, try this:\n${suggestion.toString()}\n`,\n    container,\n  )\n}\n\n// this accepts a query function and returns a function which throws an error\n// if an empty list of elements is returned\nfunction makeGetQuery<Arguments extends unknown[]>(\n  queryBy: (instance: TestInstance, ...args: Arguments) => TestInstance | null,\n  getMissingError: GetErrorFunction<Arguments>,\n) {\n  return (instance: TestInstance, ...args: Arguments) => {\n    const el = queryBy(instance, ...args)\n    if (!el) {\n      throw getConfig().getInstanceError(\n        getMissingError(instance, ...args),\n        instance,\n      )\n    }\n\n    return el\n  }\n}\n\n// this accepts a getter query function and returns a function which calls\n// waitFor and passing a function which invokes the getter.\nfunction makeFindQuery<QueryFor>(\n  getter: (\n    container: TestInstance,\n    text: Matcher,\n    options: MatcherOptions,\n  ) => QueryFor,\n) {\n  return (\n    container: TestInstance,\n    text: Matcher,\n    options: MatcherOptions,\n    waitForOptions: WaitForOptions,\n  ) => {\n    return waitFor(\n      () => {\n        return getter(container, text, options)\n      },\n      {container, ...waitForOptions},\n    )\n  }\n}\n\nconst wrapSingleQueryWithSuggestion =\n  <Arguments extends [...unknown[], WithSuggest]>(\n    query: (container: TestInstance, ...args: Arguments) => TestInstance | null,\n    queryByName: string,\n    variant: Variant,\n  ) =>\n  (container: TestInstance, ...args: Arguments) => {\n    const instance = query(container, ...args)\n    const [{suggest = getConfig().throwSuggestions} = {}] = args.slice(-1) as [\n      WithSuggest,\n    ]\n    if (instance && suggest) {\n      const suggestion = getSuggestedQuery(instance, variant)\n      if (suggestion && !queryByName.endsWith(suggestion.queryName as string)) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        throw getSuggestionError(suggestion.toString(), container)\n      }\n    }\n\n    return instance\n  }\n\n// TODO: This deviates from the published declarations\n// However, the implementation always required a dyadic (after `container`) not variadic `queryAllBy` considering the implementation of `makeFindQuery`\n// This is at least statically true and can be verified by accepting `QueryMethod<Arguments, TestInstance[]>`\nfunction buildQueries(\n  queryBy: QueryMethod<\n    [matcher: Matcher, options: MatcherOptions],\n    TestInstance | null\n  >,\n  getMissingError: GetErrorFunction<\n    [matcher: Matcher, options: MatcherOptions]\n  >,\n) {\n  const getBy = makeGetQuery(queryBy, getMissingError)\n\n  const queryByWithSuggestions = wrapSingleQueryWithSuggestion(\n    queryBy,\n    queryBy.name,\n    'get',\n  )\n\n  const getByWithSuggestions = wrapSingleQueryWithSuggestion(\n    getBy,\n    queryBy.name,\n    'get',\n  )\n\n  const findBy = makeFindQuery(\n    wrapSingleQueryWithSuggestion(getBy, queryBy.name, 'find'),\n  )\n\n  return [queryByWithSuggestions, getByWithSuggestions, findBy]\n}\n\nexport {\n  getInstanceError,\n  wrapSingleQueryWithSuggestion,\n  makeFindQuery,\n  buildQueries,\n}\n","import {GetErrorFunction, QueryByText} from '../../types'\nimport {fuzzyMatches, matches, makeNormalizer, buildQueries} from './all-utils'\n\nconst queryByTextBase: QueryByText = (\n  instance,\n  text,\n  {exact = false, collapseWhitespace, trim, normalizer, stripAnsi} = {},\n) => {\n  const matcher = exact ? matches : fuzzyMatches\n  const matchNormalizer = makeNormalizer({\n    stripAnsi,\n    collapseWhitespace,\n    trim,\n    normalizer,\n  })\n  const str = instance.stdoutArr.map(output => output.contents).join('\\n')\n  if (matcher(str, instance, text, matchNormalizer)) return instance\n  else return null\n}\n\nconst getMissingError: GetErrorFunction<[unknown]> = (c, text) =>\n  `Unable to find an stdout line with the text: ${text}. This could be because the text is broken up by multiple lines. In this case, you can provide a function for your text matcher to make your matcher more flexible.`\n\nconst [queryByTextWithSuggestions, getByText, findByText] = buildQueries(\n  queryByTextBase,\n  getMissingError,\n)\n\nexport {queryByTextWithSuggestions as queryByText, getByText, findByText}\n","import {GetErrorFunction, QueryByText} from '../../types'\nimport {fuzzyMatches, matches, makeNormalizer, buildQueries} from './all-utils'\n\nconst queryByErrorBase: QueryByText = (\n  instance,\n  text,\n  {exact = false, collapseWhitespace, trim, normalizer, stripAnsi} = {},\n) => {\n  const matcher = exact ? matches : fuzzyMatches\n  const matchNormalizer = makeNormalizer({\n    stripAnsi,\n    collapseWhitespace,\n    trim,\n    normalizer,\n  })\n  const str = instance.stderrArr.map(obj => obj.contents).join('\\n')\n  if (matcher(str, instance, text, matchNormalizer)) return instance\n  else return null\n}\n\nconst getMissingError: GetErrorFunction<[unknown]> = (c, text) =>\n  `Unable to find an stdout line with the text: ${text}. This could be because the text is broken up by multiple lines. In this case, you can provide a function for your text matcher to make your matcher more flexible.`\n\nconst [queryByErrorWithSuggestions, getByError, findByError] = buildQueries(\n  queryByErrorBase,\n  getMissingError,\n)\n\nexport {queryByErrorWithSuggestions as queryByError, getByError, findByError}\n","import * as defaultQueries from './queries'\n\n/**\n * @typedef {{[key: string]: Function}} FuncMap\n */\n\n/**\n * @param {TestInstance} instance\n * @param {FuncMap} queries object of functions\n * @param {Object} initialValue for reducer\n * @returns {FuncMap} returns object of functions bound to container\n */\nfunction getQueriesForElement(\n  instance,\n  queries = defaultQueries,\n  initialValue = {},\n) {\n  return Object.keys(queries).reduce((helpers, key) => {\n    const fn = queries[key]\n    helpers[key] = fn.bind(null, instance)\n    return helpers\n  }, initialValue)\n}\n\nexport {getQueriesForElement}\n","'use strict';\n\nvar childProcess = require('child_process');\nvar spawn = childProcess.spawn;\nvar exec = childProcess.exec;\n\nmodule.exports = function (pid, signal, callback) {\n    if (typeof signal === 'function' && callback === undefined) {\n        callback = signal;\n        signal = undefined;\n    }\n\n    pid = parseInt(pid);\n    if (Number.isNaN(pid)) {\n        if (callback) {\n            return callback(new Error(\"pid must be a number\"));\n        } else {\n            throw new Error(\"pid must be a number\");\n        }\n    }\n\n    var tree = {};\n    var pidsToProcess = {};\n    tree[pid] = [];\n    pidsToProcess[pid] = 1;\n\n    switch (process.platform) {\n    case 'win32':\n        exec('taskkill /pid ' + pid + ' /T /F', callback);\n        break;\n    case 'darwin':\n        buildProcessTree(pid, tree, pidsToProcess, function (parentPid) {\n          return spawn('pgrep', ['-P', parentPid]);\n        }, function () {\n            killAll(tree, signal, callback);\n        });\n        break;\n    // case 'sunos':\n    //     buildProcessTreeSunOS(pid, tree, pidsToProcess, function () {\n    //         killAll(tree, signal, callback);\n    //     });\n    //     break;\n    default: // Linux\n        buildProcessTree(pid, tree, pidsToProcess, function (parentPid) {\n          return spawn('ps', ['-o', 'pid', '--no-headers', '--ppid', parentPid]);\n        }, function () {\n            killAll(tree, signal, callback);\n        });\n        break;\n    }\n};\n\nfunction killAll (tree, signal, callback) {\n    var killed = {};\n    try {\n        Object.keys(tree).forEach(function (pid) {\n            tree[pid].forEach(function (pidpid) {\n                if (!killed[pidpid]) {\n                    killPid(pidpid, signal);\n                    killed[pidpid] = 1;\n                }\n            });\n            if (!killed[pid]) {\n                killPid(pid, signal);\n                killed[pid] = 1;\n            }\n        });\n    } catch (err) {\n        if (callback) {\n            return callback(err);\n        } else {\n            throw err;\n        }\n    }\n    if (callback) {\n        return callback();\n    }\n}\n\nfunction killPid(pid, signal) {\n    try {\n        process.kill(parseInt(pid, 10), signal);\n    }\n    catch (err) {\n        if (err.code !== 'ESRCH') throw err;\n    }\n}\n\nfunction buildProcessTree (parentPid, tree, pidsToProcess, spawnChildProcessesList, cb) {\n    var ps = spawnChildProcessesList(parentPid);\n    var allData = '';\n    ps.stdout.on('data', function (data) {\n        var data = data.toString('ascii');\n        allData += data;\n    });\n\n    var onClose = function (code) {\n        delete pidsToProcess[parentPid];\n\n        if (code != 0) {\n            // no more parent processes\n            if (Object.keys(pidsToProcess).length == 0) {\n                cb();\n            }\n            return;\n        }\n\n        allData.match(/\\d+/g).forEach(function (pid) {\n          pid = parseInt(pid, 10);\n          tree[parentPid].push(pid);\n          tree[pid] = [];\n          pidsToProcess[pid] = 1;\n          buildProcessTree(pid, tree, pidsToProcess, spawnChildProcessesList, cb);\n        });\n    };\n\n    ps.on('close', onClose);\n}\n","import treeKill from 'tree-kill'\nimport {TestInstance} from '../types'\nimport {getConfig} from './config'\n\nexport const killProc = (instance: TestInstance, signal: string | undefined) =>\n  new Promise<void>((resolve, reject) => {\n    if (!instance.process.pid || (instance.process.pid && instance.hasExit())) {\n      resolve()\n      return\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    treeKill(instance.process.pid, signal, async err => {\n      try {\n        if (err) {\n          if (\n            err.message.includes('The process') &&\n            err.message.includes('not found.')\n          ) {\n            resolve()\n            return\n          }\n          if (\n            err.message.includes('could not be terminated') &&\n            err.message.includes('There is no running instance of the task.') &&\n            instance.hasExit()\n          ) {\n            resolve()\n            return\n          }\n          const isOperationNotSupported = err.message.includes('The operation attempted is not supported.');\n          const isAccessDenied = err.message.includes('Access is denied.');\n          if (err.message.includes('could not be terminated') && (isOperationNotSupported || isAccessDenied)) {\n            const sleep = (t: number) => new Promise(r => setTimeout(r, t))\n            await sleep(getConfig().errorDebounceTimeout)\n            if (instance.hasExit()) {\n              resolve()\n              return\n            }\n            console.warn('Ran into error while trying to kill process:')\n            console.warn(err.toString())\n            console.warn(`This is likely due to Window's permissions.\n                Because this error is prevalent on CI Windows systems with the tree-kill package, we are attempting\n                 an alternative kill method.`)\n            console.warn()\n            console.warn(\n              'Be aware that this alternative kill method is not guaranteed to work with subprocesses, and they may not exit properly as a result.',\n            )\n\n            const didKill = instance.process.kill(signal as 'SIGKILL')\n            if (didKill) {\n              resolve()\n            } else {\n              console.error(\n                'Alternative kill method failed. Rejecting with original error.',\n              )\n              reject(err)\n            }\n            return\n          }\n          reject(err)\n        } else resolve()\n      } catch (e: unknown) {\n        reject(e)\n      }\n    })\n  })\n","import {TestInstance} from '../types'\nimport {killProc} from './process-helpers'\n\nconst isWin = process.platform === 'win32'\n\nconst eventMap = {\n  sigterm: (instance: TestInstance) =>\n    killProc(instance, isWin ? undefined : 'SIGTERM'),\n  sigkill: (instance: TestInstance) =>\n    killProc(instance, isWin ? undefined : 'SIGKILL'),\n  write: (instance: TestInstance, props: {value: string}) =>\n    instance.process.stdin.write(props.value),\n}\n\nexport {eventMap}\n","import {eventMap} from './event-map'\n\n/**\n * Silence TypeScript errors\n * @type {*}\n */\nconst fireEvent = (instance, event, props = undefined) => {\n  eventMap[event](instance, props)\n}\n\nObject.entries(eventMap).forEach(([eventName, eventFn]) => {\n  fireEvent[eventName] = (instance, ...props) => {\n    eventFn(instance, ...props)\n  }\n})\n\nexport {fireEvent}\n","import {keyboardKey, keyboardOptions} from './types'\n\nenum bracketDict {\n  '[' = ']',\n}\n\n/**\n * Get the next key from keyMap\n *\n * Keys can be referenced by `{key}` or `{special}` as well as physical locations per `[code]`.\n * Everything else will be interpreted as a typed character - e.g. `a`.\n * Brackets `{` and `[` can be escaped by doubling - e.g. `foo[[bar` translates to `foo[bar`.\n */\nexport function getNextKeyDef(\n  text: string,\n  options: keyboardOptions,\n): {\n  keyDef: keyboardKey\n  consumedLength: number\n} {\n  const {type, descriptor, consumedLength} = readNextDescriptor(text)\n\n  const keyDef: keyboardKey = options.keyboardMap.find(def => {\n    if (type === '[') {\n      return def.code?.toLowerCase() === descriptor.toLowerCase()\n    }\n    return def.hex === descriptor\n  }) ?? {\n    code: descriptor,\n    hex: 'Unknown',\n  }\n\n  return {\n    keyDef,\n    consumedLength,\n  }\n}\n\nfunction readNextDescriptor(text: string) {\n  let pos = 0\n  const startBracket =\n    text[pos] in bracketDict ? (text[pos] as keyof typeof bracketDict) : ''\n\n  pos += startBracket.length\n\n  // `foo[[bar` is an escaped char at position 3,\n  // but `foo[[[>5}bar` should be treated as `{` pressed down for 5 keydowns.\n  const startBracketRepeated = startBracket\n    ? (text.match(new RegExp(`^\\\\${startBracket}+`)) as RegExpMatchArray)[0]\n        .length\n    : 0\n  const isEscapedChar = startBracketRepeated === 2\n\n  const type = isEscapedChar ? '' : startBracket\n\n  return {\n    type,\n    ...(type === '' ? readPrintableChar(text, pos) : readTag(text, pos, type)),\n  }\n}\n\nfunction readPrintableChar(text: string, pos: number) {\n  const descriptor = text[pos]\n\n  assertDescriptor(descriptor, text, pos)\n\n  pos += descriptor.length\n\n  return {\n    consumedLength: pos,\n    descriptor,\n    releasePrevious: false,\n    releaseSelf: true,\n    repeat: 1,\n  }\n}\n\nfunction readTag(\n  text: string,\n  pos: number,\n  startBracket: keyof typeof bracketDict,\n) {\n  const descriptor = text.slice(pos).match(/^\\w+/)?.[0]\n\n  assertDescriptor(descriptor, text, pos)\n\n  pos += descriptor.length\n\n  const expectedEndBracket = bracketDict[startBracket]\n  const endBracket = text[pos] === expectedEndBracket ? expectedEndBracket : ''\n\n  if (!endBracket) {\n    throw new Error(getErrorMessage(`\"${expectedEndBracket}\"`, text[pos], text))\n  }\n\n  pos += endBracket.length\n\n  return {\n    consumedLength: pos,\n    descriptor,\n  }\n}\n\nfunction assertDescriptor(\n  descriptor: string | undefined,\n  text: string,\n  pos: number,\n): asserts descriptor is string {\n  if (!descriptor) {\n    throw new Error(getErrorMessage('key descriptor', text[pos], text))\n  }\n}\n\nfunction getErrorMessage(\n  expected: string,\n  found: string | undefined,\n  text: string,\n) {\n  return `Expected ${expected} but found \"${found ?? ''}\" in \"${text}\"\n    See https://github.com/testing-library/user-event/blob/main/README.md#keyboardtext-options\n    for more information about how userEvent parses your input.`\n}\n","import {fireEvent} from '../../events'\nimport {wait} from '../utils'\nimport {TestInstance} from '../../../types'\nimport {getNextKeyDef} from './getNextKeyDef'\nimport {keyboardKey, keyboardOptions} from './types'\n\nexport async function keyboardImplementation(\n  instance: TestInstance,\n  text: string,\n  options: keyboardOptions,\n): Promise<void> {\n  const {keyDef, consumedLength} = getNextKeyDef(text, options)\n\n  keypress(keyDef, instance)\n\n  if (text.length > consumedLength) {\n    if (options.delay > 0) {\n      await wait(options.delay)\n    }\n\n    return keyboardImplementation(instance, text.slice(consumedLength), options)\n  }\n  return void undefined\n}\n\nfunction keypress(keyDef: keyboardKey, instance: TestInstance) {\n  fireEvent.write(instance, {value: keyDef.hex})\n}\n","export function wait(time?: number) {\n  return new Promise<void>(resolve => setTimeout(() => resolve(), time))\n}\n","import {keyboardKey} from './types'\n\n/**\n * Mapping for a default US-104-QWERTY keyboard\n *\n * These use ANSI-C quoting, which seems to work for Linux, macOS, and Windows alike\n * @see https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#ANSI_002dC-Quoting\n * @see https://stackoverflow.com/questions/35429671/detecting-key-press-within-bash-scripts\n * @see https://gist.github.com/crutchcorn/2811db78a7b924cf54f4507198427fd2\n */\nexport const defaultKeyMap: keyboardKey[] = [\n  // alphanumeric keys\n  {code: 'Digit!', hex: '\\x21'},\n  {code: 'Digit#', hex: '\\x23'},\n  {code: 'Digit$', hex: '\\x24'},\n  {code: 'Digit%', hex: '\\x25'},\n  {code: 'Digit&', hex: '\\x26'},\n  {code: 'Digit(', hex: '\\x29'},\n  {code: 'Digit)', hex: '\\x29'},\n  {code: 'Digit*', hex: '\\x2a'},\n  {code: 'Digit-', hex: '\\x2d'},\n  {code: 'Digit@', hex: '\\x40'},\n  {code: 'Digit^', hex: '\\x5e'},\n  {code: 'Digit{', hex: '\\x7b'},\n  {code: 'Digit|', hex: '\\x7c'},\n  {code: 'Digit}', hex: '\\x7d'},\n  {code: 'Digit~', hex: '\\x7e'},\n  {code: 'Digit0', hex: '\\x30'},\n  {code: 'Digit1', hex: '\\x31'},\n  {code: 'Digit2', hex: '\\x32'},\n  {code: 'Digit3', hex: '\\x33'},\n  {code: 'Digit4', hex: '\\x34'},\n  {code: 'Digit5', hex: '\\x35'},\n  {code: 'Digit6', hex: '\\x36'},\n  {code: 'Digit7', hex: '\\x37'},\n  {code: 'Digit8', hex: '\\x38'},\n  {code: 'Digit9', hex: '\\x39'},\n  {code: 'KeyA', hex: '\\x41'},\n  {code: 'KeyB', hex: '\\x42'},\n  {code: 'KeyC', hex: '\\x43'},\n  {code: 'KeyD', hex: '\\x44'},\n  {code: 'KeyE', hex: '\\x45'},\n  {code: 'KeyF', hex: '\\x46'},\n  {code: 'KeyG', hex: '\\x47'},\n  {code: 'KeyH', hex: '\\x48'},\n  {code: 'KeyI', hex: '\\x49'},\n  {code: 'KeyJ', hex: '\\x4a'},\n  {code: 'KeyK', hex: '\\x4b'},\n  {code: 'KeyL', hex: '\\x4c'},\n  {code: 'KeyM', hex: '\\x4d'},\n  {code: 'KeyN', hex: '\\x4e'},\n  {code: 'KeyO', hex: '\\x4f'},\n  {code: 'KeyP', hex: '\\x50'},\n  {code: 'KeyQ', hex: '\\x51'},\n  {code: 'KeyR', hex: '\\x52'},\n  {code: 'KeyS', hex: '\\x53'},\n  {code: 'KeyT', hex: '\\x54'},\n  {code: 'KeyU', hex: '\\x55'},\n  {code: 'KeyV', hex: '\\x56'},\n  {code: 'KeyW', hex: '\\x57'},\n  {code: 'KeyX', hex: '\\x58'},\n  {code: 'KeyY', hex: '\\x59'},\n  {code: 'KeyZ', hex: '\\x5a'},\n  {code: 'Digit_', hex: '\\x5f'},\n  {code: 'KeyLowerA', hex: '\\x61'},\n  {code: 'KeyLowerB', hex: '\\x62'},\n  {code: 'KeyLowerC', hex: '\\x63'},\n  {code: 'KeyLowerD', hex: '\\x64'},\n  {code: 'KeyLowerE', hex: '\\x65'},\n  {code: 'KeyLowerF', hex: '\\x66'},\n  {code: 'KeyLowerG', hex: '\\x67'},\n  {code: 'KeyLowerH', hex: '\\x68'},\n  {code: 'KeyLowerI', hex: '\\x69'},\n  {code: 'KeyLowerJ', hex: '\\x6a'},\n  {code: 'KeyLowerK', hex: '\\x6b'},\n  {code: 'KeyLowerL', hex: '\\x6c'},\n  {code: 'KeyLowerM', hex: '\\x6d'},\n  {code: 'KeyLowerN', hex: '\\x6e'},\n  {code: 'KeyLowerO', hex: '\\x6f'},\n  {code: 'KeyLowerP', hex: '\\x70'},\n  {code: 'KeyLowerQ', hex: '\\x71'},\n  {code: 'KeyLowerR', hex: '\\x72'},\n  {code: 'KeyLowerS', hex: '\\x73'},\n  {code: 'KeyLowerT', hex: '\\x74'},\n  {code: 'KeyLowerU', hex: '\\x75'},\n  {code: 'KeyLowerV', hex: '\\x76'},\n  {code: 'KeyLowerW', hex: '\\x77'},\n  {code: 'KeyLowerX', hex: '\\x78'},\n  {code: 'KeyLowerY', hex: '\\x79'},\n  {code: 'KeyLowerZ', hex: '\\x7a'},\n\n  // alphanumeric block - functional\n  {code: 'Space', hex: '\\x20'},\n  {code: 'Backspace', hex: '\\x08'},\n  {code: 'Enter', hex: '\\x0D'},\n\n  // function\n  {code: 'Escape', hex: '\\x1b'},\n\n  // arrows\n  {code: 'ArrowUp', hex: '\\x1b\\x5b\\x41'},\n  {code: 'ArrowDown', hex: '\\x1B\\x5B\\x42'},\n  {code: 'ArrowLeft', hex: '\\x1b\\x5b\\x44'},\n  {code: 'ArrowRight', hex: '\\x1b\\x5b\\x43'},\n\n  // control pad\n  {code: 'Home', hex: '\\x1b\\x4f\\x48'},\n  {code: 'End', hex: '\\x1b\\x4f\\x46'},\n  {code: 'Delete', hex: '\\x1b\\x5b\\x33\\x7e'},\n  {code: 'PageUp', hex: '\\x1b\\x5b\\x35\\x7e'},\n  {code: 'PageDown', hex: '\\x1b\\x5b\\x36\\x7e'},\n\n  // TODO: add mappings\n]\n","import {keyboard} from './keyboard/index'\n\nconst userEvent = {\n  keyboard,\n}\n\nexport default userEvent\n\nexport type {keyboardKey} from './keyboard/index'\n","import {TestInstance} from '../../../types'\nimport {keyboardImplementation} from './keyboardImplementation'\nimport {defaultKeyMap} from './keyMap'\nimport {keyboardOptions, keyboardKey} from './types'\n\nexport type {keyboardOptions, keyboardKey}\n\nexport function keyboard(\n  instance: TestInstance,\n  text: string,\n  options?: Partial<keyboardOptions & {delay: number}>,\n): void | Promise<void> {\n  const {promise} = keyboardImplementationWrapper(instance, text, options)\n\n  if ((options?.delay ?? 0) > 0) {\n    return promise\n  } else {\n    // prevent users from dealing with UnhandledPromiseRejectionWarning in sync call\n    promise.catch(console.error)\n  }\n}\n\nexport function keyboardImplementationWrapper(\n  instance: TestInstance,\n  text: string,\n  config: Partial<keyboardOptions> = {},\n) {\n  const {delay = 0, keyboardMap = defaultKeyMap} = config\n  const options = {\n    delay,\n    keyboardMap,\n  }\n\n  return {\n    promise: keyboardImplementation(instance, text, options),\n  }\n}\n","/* eslint-disable yoda */\n'use strict';\n\nconst isFullwidthCodePoint = codePoint => {\n\tif (Number.isNaN(codePoint)) {\n\t\treturn false;\n\t}\n\n\t// Code points are derived from:\n\t// http://www.unix.org/Public/UNIDATA/EastAsianWidth.txt\n\tif (\n\t\tcodePoint >= 0x1100 && (\n\t\t\tcodePoint <= 0x115F || // Hangul Jamo\n\t\t\tcodePoint === 0x2329 || // LEFT-POINTING ANGLE BRACKET\n\t\t\tcodePoint === 0x232A || // RIGHT-POINTING ANGLE BRACKET\n\t\t\t// CJK Radicals Supplement .. Enclosed CJK Letters and Months\n\t\t\t(0x2E80 <= codePoint && codePoint <= 0x3247 && codePoint !== 0x303F) ||\n\t\t\t// Enclosed CJK Letters and Months .. CJK Unified Ideographs Extension A\n\t\t\t(0x3250 <= codePoint && codePoint <= 0x4DBF) ||\n\t\t\t// CJK Unified Ideographs .. Yi Radicals\n\t\t\t(0x4E00 <= codePoint && codePoint <= 0xA4C6) ||\n\t\t\t// Hangul Jamo Extended-A\n\t\t\t(0xA960 <= codePoint && codePoint <= 0xA97C) ||\n\t\t\t// Hangul Syllables\n\t\t\t(0xAC00 <= codePoint && codePoint <= 0xD7A3) ||\n\t\t\t// CJK Compatibility Ideographs\n\t\t\t(0xF900 <= codePoint && codePoint <= 0xFAFF) ||\n\t\t\t// Vertical Forms\n\t\t\t(0xFE10 <= codePoint && codePoint <= 0xFE19) ||\n\t\t\t// CJK Compatibility Forms .. Small Form Variants\n\t\t\t(0xFE30 <= codePoint && codePoint <= 0xFE6B) ||\n\t\t\t// Halfwidth and Fullwidth Forms\n\t\t\t(0xFF01 <= codePoint && codePoint <= 0xFF60) ||\n\t\t\t(0xFFE0 <= codePoint && codePoint <= 0xFFE6) ||\n\t\t\t// Kana Supplement\n\t\t\t(0x1B000 <= codePoint && codePoint <= 0x1B001) ||\n\t\t\t// Enclosed Ideographic Supplement\n\t\t\t(0x1F200 <= codePoint && codePoint <= 0x1F251) ||\n\t\t\t// CJK Unified Ideographs Extension B .. Tertiary Ideographic Plane\n\t\t\t(0x20000 <= codePoint && codePoint <= 0x3FFFD)\n\t\t)\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\nmodule.exports = isFullwidthCodePoint;\nmodule.exports.default = isFullwidthCodePoint;\n","'use strict';\nconst regex = '[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]';\n\nconst astralRegex = options => options && options.exact ? new RegExp(`^${regex}$`) : new RegExp(regex, 'g');\n\nmodule.exports = astralRegex;\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","'use strict';\n\nconst wrapAnsi16 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${code + offset}m`;\n};\n\nconst wrapAnsi256 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${38 + offset};5;${code}m`;\n};\n\nconst wrapAnsi16m = (fn, offset) => (...args) => {\n\tconst rgb = fn(...args);\n\treturn `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`;\n};\n\nconst ansi2ansi = n => n;\nconst rgb2rgb = (r, g, b) => [r, g, b];\n\nconst setLazyProperty = (object, property, get) => {\n\tObject.defineProperty(object, property, {\n\t\tget: () => {\n\t\t\tconst value = get();\n\n\t\t\tObject.defineProperty(object, property, {\n\t\t\t\tvalue,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n};\n\n/** @type {typeof import('color-convert')} */\nlet colorConvert;\nconst makeDynamicStyles = (wrap, targetSpace, identity, isBackground) => {\n\tif (colorConvert === undefined) {\n\t\tcolorConvert = require('color-convert');\n\t}\n\n\tconst offset = isBackground ? 10 : 0;\n\tconst styles = {};\n\n\tfor (const [sourceSpace, suite] of Object.entries(colorConvert)) {\n\t\tconst name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;\n\t\tif (sourceSpace === targetSpace) {\n\t\t\tstyles[name] = wrap(identity, offset);\n\t\t} else if (typeof suite === 'object') {\n\t\t\tstyles[name] = wrap(suite[targetSpace], offset);\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tsetLazyProperty(styles.color, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false));\n\tsetLazyProperty(styles.bgColor, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true));\n\n\treturn styles;\n}\n\n// Make the export immutable\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n","'use strict';\nconst isFullwidthCodePoint = require('is-fullwidth-code-point');\nconst astralRegex = require('astral-regex');\nconst ansiStyles = require('ansi-styles');\n\nconst ESCAPES = [\n\t'\\u001B',\n\t'\\u009B'\n];\n\nconst wrapAnsi = code => `${ESCAPES[0]}[${code}m`;\n\nconst checkAnsi = (ansiCodes, isEscapes, endAnsiCode) => {\n\tlet output = [];\n\tansiCodes = [...ansiCodes];\n\n\tfor (let ansiCode of ansiCodes) {\n\t\tconst ansiCodeOrigin = ansiCode;\n\t\tif (ansiCode.includes(';')) {\n\t\t\tansiCode = ansiCode.split(';')[0][0] + '0';\n\t\t}\n\n\t\tconst item = ansiStyles.codes.get(Number.parseInt(ansiCode, 10));\n\t\tif (item) {\n\t\t\tconst indexEscape = ansiCodes.indexOf(item.toString());\n\t\t\tif (indexEscape === -1) {\n\t\t\t\toutput.push(wrapAnsi(isEscapes ? item : ansiCodeOrigin));\n\t\t\t} else {\n\t\t\t\tansiCodes.splice(indexEscape, 1);\n\t\t\t}\n\t\t} else if (isEscapes) {\n\t\t\toutput.push(wrapAnsi(0));\n\t\t\tbreak;\n\t\t} else {\n\t\t\toutput.push(wrapAnsi(ansiCodeOrigin));\n\t\t}\n\t}\n\n\tif (isEscapes) {\n\t\toutput = output.filter((element, index) => output.indexOf(element) === index);\n\n\t\tif (endAnsiCode !== undefined) {\n\t\t\tconst fistEscapeCode = wrapAnsi(ansiStyles.codes.get(Number.parseInt(endAnsiCode, 10)));\n\t\t\toutput = output.reduce((current, next) => next === fistEscapeCode ? [next, ...current] : [...current, next], []);\n\t\t}\n\t}\n\n\treturn output.join('');\n};\n\nmodule.exports = (string, begin, end) => {\n\tconst characters = [...string];\n\tconst ansiCodes = [];\n\n\tlet stringEnd = typeof end === 'number' ? end : characters.length;\n\tlet isInsideEscape = false;\n\tlet ansiCode;\n\tlet visible = 0;\n\tlet output = '';\n\n\tfor (const [index, character] of characters.entries()) {\n\t\tlet leftEscape = false;\n\n\t\tif (ESCAPES.includes(character)) {\n\t\t\tconst code = /\\d[^m]*/.exec(string.slice(index, index + 18));\n\t\t\tansiCode = code && code.length > 0 ? code[0] : undefined;\n\n\t\t\tif (visible < stringEnd) {\n\t\t\t\tisInsideEscape = true;\n\n\t\t\t\tif (ansiCode !== undefined) {\n\t\t\t\t\tansiCodes.push(ansiCode);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isInsideEscape && character === 'm') {\n\t\t\tisInsideEscape = false;\n\t\t\tleftEscape = true;\n\t\t}\n\n\t\tif (!isInsideEscape && !leftEscape) {\n\t\t\tvisible++;\n\t\t}\n\n\t\tif (!astralRegex({exact: true}).test(character) && isFullwidthCodePoint(character.codePointAt())) {\n\t\t\tvisible++;\n\n\t\t\tif (typeof end !== 'number') {\n\t\t\t\tstringEnd++;\n\t\t\t}\n\t\t}\n\n\t\tif (visible > begin && visible <= stringEnd) {\n\t\t\toutput += character;\n\t\t} else if (visible === begin && !isInsideEscape && ansiCode !== undefined) {\n\t\t\toutput = checkAnsi(ansiCodes);\n\t\t} else if (visible >= stringEnd) {\n\t\t\toutput += checkAnsi(ansiCodes, true, ansiCode);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn output;\n};\n","// We try to load node dependencies\nlet chalk = null\nlet readFileSync = null\nlet codeFrameColumns = null\n\ntry {\n  const nodeRequire = module && module.require\n\n  readFileSync = nodeRequire.call(module, 'fs').readFileSync\n  codeFrameColumns = nodeRequire.call(\n    module,\n    '@babel/code-frame',\n  ).codeFrameColumns\n  chalk = nodeRequire.call(module, 'chalk')\n} catch (e) {\n  // We're in a browser environment\n}\n\n// frame has the form \"at myMethod (location/to/my/file.js:10:2)\"\nfunction getCodeFrame(frame) {\n  const locationStart = frame.indexOf('(') + 1\n  const locationEnd = frame.indexOf(')')\n  const frameLocation = frame.slice(locationStart, locationEnd)\n\n  const frameLocationElements = frameLocation.split(':')\n  const [filename, line, column] = [\n    frameLocationElements[0],\n    parseInt(frameLocationElements[1], 10),\n    parseInt(frameLocationElements[2], 10),\n  ]\n\n  let rawFileContents = ''\n  try {\n    rawFileContents = readFileSync(filename, 'utf-8')\n  } catch (e) {\n    return ''\n  }\n\n  const codeFrame = codeFrameColumns(\n    rawFileContents,\n    {\n      start: {line, column},\n    },\n    {\n      highlightCode: true,\n      linesBelow: 0,\n    },\n  )\n  return `${chalk.dim(frameLocation)}\\n${codeFrame}\\n`\n}\n\nfunction getUserCodeFrame() {\n  // If we couldn't load dependencies, we can't generate the user trace\n  /* istanbul ignore next */\n  if (!readFileSync || !codeFrameColumns) {\n    return ''\n  }\n  const err = new Error()\n  const firstClientCodeFrame = err.stack\n    .split('\\n')\n    .slice(1) // Remove first line which has the form \"Error: TypeError\"\n    .find(frame => !frame.includes('node_modules/')) // Ignore frames from 3rd party libraries\n\n  return getCodeFrame(firstClientCodeFrame)\n}\n\nexport {getUserCodeFrame}\n","import sliceAnsi from 'slice-ansi'\nimport {getUserCodeFrame} from './get-user-code-frame'\n\nfunction prettyCLI(testInstance, maxLength) {\n  if (typeof maxLength !== 'number') {\n    maxLength =\n      (typeof process !== 'undefined' && process.env.DEBUG_PRINT_LIMIT) || 7000\n  }\n\n  if (maxLength === 0) {\n    return ''\n  }\n\n  if (!('stdoutArr' in testInstance && 'stderrArr' in testInstance)) {\n    throw new TypeError(`Expected an instance but got ${testInstance}`)\n  }\n\n  const outStr = testInstance.getStdallStr()\n\n  // eslint-disable-next-line no-negated-condition\n  return maxLength !== undefined && outStr.length > maxLength\n    ? sliceAnsi(outStr, 0, maxLength)\n    : outStr\n}\n\nconst logCLI = (...args) => {\n  const userCodeFrame = getUserCodeFrame()\n  if (userCodeFrame) {\n    process.stdout.write(`${prettyCLI(...args)}\\n\\n${userCodeFrame}`)\n  } else {\n    process.stdout.write(prettyCLI(...args))\n  }\n}\n\nexport {prettyCLI, logCLI}\n","import childProcess from 'child_process'\nimport {performance} from 'perf_hooks'\nimport stripFinalNewline from 'strip-final-newline'\nimport {RenderOptions, RenderResult, TestInstance} from '../types/pure'\nimport {_runObservers} from './mutation-observer'\nimport {getQueriesForElement} from './get-queries-for-instance'\nimport userEvent from './user-event/index'\nimport {bindObjectFnsToInstance, setCurrentInstance} from './helpers'\nimport {fireEvent} from './events'\nimport {getConfig} from './config'\nimport {logCLI} from './pretty-cli'\n\nconst mountedInstances = new Set<TestInstance>()\n\nasync function render(\n  command: string,\n  args: string[] = [],\n  opts: Partial<RenderOptions> = {},\n): Promise<RenderResult> {\n  const {cwd = __dirname, spawnOpts = {}} = opts\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n  const exec = childProcess.spawn(command, args, {\n    ...spawnOpts,\n    cwd,\n    shell: true,\n  })\n\n  let _readyPromiseInternals: null | {resolve: Function; reject: Function} =\n    null\n\n  let _resolved = false\n\n  const execOutputAPI = {\n    __exitCode: null as null | number,\n    _isOutputAPI: true,\n    _isReady: new Promise(\n      (resolve, reject) => (_readyPromiseInternals = {resolve, reject}),\n    ),\n    process: exec,\n    // Clear buffer of stdout to do more accurate `t.regex` checks\n    clear() {\n      execOutputAPI.stdoutArr = []\n      execOutputAPI.stderrArr = []\n    },\n    debug(maxLength?: number) {\n      logCLI(execOutputAPI, maxLength)\n    },\n    // An array of strings gathered from stdout when unable to do\n    // `await stdout` because of inquirer interactive prompts\n    stdoutArr: [] as Array<{contents: Buffer | string; timestamp: number}>,\n    stderrArr: [] as Array<{contents: Buffer | string; timestamp: number}>,\n    hasExit() {\n      return this.__exitCode === null ? null : {exitCode: this.__exitCode}\n    },\n  }\n\n  mountedInstances.add(execOutputAPI as unknown as TestInstance)\n\n  exec.stdout.on('data', (result: string | Buffer) => {\n    // `on('spawn') doesn't work the same way in Node12.\n    // Instead, we have to rely on this working as-expected.\n    if (_readyPromiseInternals && !_resolved) {\n      _readyPromiseInternals.resolve()\n      _resolved = true\n    }\n\n    const resStr = stripFinalNewline(result as string)\n    execOutputAPI.stdoutArr.push({\n      contents: resStr,\n      timestamp: performance.now(),\n    })\n    _runObservers()\n  })\n\n  exec.stderr.on('data', (result: string | Buffer) => {\n    if (_readyPromiseInternals && !_resolved) {\n      _readyPromiseInternals.resolve()\n      _resolved = true\n    }\n\n    const resStr = stripFinalNewline(result as string)\n    execOutputAPI.stderrArr.push({\n      contents: resStr,\n      timestamp: performance.now(),\n    })\n    _runObservers()\n  })\n\n  exec.on('error', result => {\n    if (_readyPromiseInternals) {\n      _readyPromiseInternals.reject(result)\n    }\n  })\n\n  exec.on('spawn', () => {\n    setTimeout(() => {\n      if (_readyPromiseInternals && !_resolved) {\n        _readyPromiseInternals.resolve()\n        _resolved = true\n      }\n    }, getConfig().renderAwaitTime)\n  })\n\n  exec.on('exit', code => {\n    execOutputAPI.__exitCode = code ?? 0\n  })\n\n  setCurrentInstance(execOutputAPI)\n\n  await execOutputAPI._isReady\n\n  function getStdallStr(this: Omit<TestInstance, 'getStdallStr'>) {\n    return this.stderrArr\n      .concat(this.stdoutArr)\n      .sort((a, b) => (a.timestamp < b.timestamp ? -1 : 1))\n      .map(obj => obj.contents)\n      .join('\\n')\n  }\n\n  return Object.assign(\n    execOutputAPI,\n    {\n      userEvent: bindObjectFnsToInstance(execOutputAPI, userEvent),\n      getStdallStr: getStdallStr.bind(execOutputAPI),\n    },\n    getQueriesForElement(execOutputAPI),\n  ) as TestInstance as RenderResult\n}\n\nfunction cleanup() {\n  return Promise.all(Array.from(mountedInstances).map(cleanupAtInstance))\n}\n\n// maybe one day we'll expose this (perhaps even as a utility returned by render).\n// but let's wait until someone asks for it.\nasync function cleanupAtInstance(instance: TestInstance) {\n  await fireEvent.sigkill(instance)\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  mountedInstances.delete(instance)\n}\n\nexport {render, cleanup}\n","import {cleanup} from './pure'\n\n// if we're running in a test runner that supports afterEach\n// or teardown then we'll automatically run cleanup afterEach test\n// this ensures that tests run in isolation from each other\n// if you don't like this then set the CTL_SKIP_AUTO_CLEANUP env variable to 'true'.\nif (\n  typeof process === 'undefined' ||\n  !(process.env && process.env.CTL_SKIP_AUTO_CLEANUP)\n) {\n  // ignore teardown() in code coverage because Jest does not support it\n  /* istanbul ignore else */\n  if (typeof afterEach === 'function') {\n    afterEach(async () => {\n      await cleanup()\n    })\n  } else if (typeof teardown === 'function') {\n    // Block is guarded by `typeof` check.\n    // eslint does not support `typeof` guards.\n    // eslint-disable-next-line no-undef\n    teardown(async () => {\n      await cleanup()\n    })\n  }\n}\n\nexport * from './config'\nexport * from './helpers'\nexport * from './events'\nexport * from './get-queries-for-instance'\nexport * from './matches'\nexport * from './pure'\nexport * from './query-helpers'\nexport * from './queries'\nexport * from './mutation-observer'\nexport * from './wait-for'\nexport * from './user-event'\n"],"names":["stripFinalNewline","input","LF","charCodeAt","CR","length","slice","_observers","Map","mutId","MutationObserver","constructor","cb","this","_id","_cb","observe","set","disconnect","delete","_runObservers","Array","from","values","forEach","ansiRegex","_temp","onlyFirst","pattern","join","RegExp","undefined","stripAnsi","string","replace","assertNotNullOrUndefined","matcher","Error","fuzzyMatches","textToMatch","node","normalizer","normalizedText","toLowerCase","includes","toString","test","matches","Function","String","getDefaultNormalizer","trim","collapseWhitespace","text","stripAnsiFn","makeNormalizer","_ref","normalize","getRegExpMatcher","escapeRegExp","getSuggestedQuery","instance","variant","method","textContent","stdoutArr","map","obj","contents","currentMethod","requestedMethod","queryName","element","content","name","queryOptions","queryArgs","Object","keys","push","queryMethod","warning","options","entries","_ref2","k","v","makeSuggestion","jestFakeTimersAreEnabled","jest","setTimeout","_isMockFunction","prototype","hasOwnProperty","call","instanceRef","current","getCurrentInstance","setCurrentInstance","newInstance","bindObjectFnsToInstance","object","reduce","prev","key","fn","_len2","arguments","props","_key2","afterEach","config","asyncUtilTimeout","renderAwaitTime","errorDebounceTimeout","unstable_advanceTimersWrapper","showOriginalStackTrace","throwSuggestions","getInstanceError","message","testInstance","instanceWarning","getStdallStr","error","filter","Boolean","_disableExpensiveErrorDiagnostics","getConfig","copyStackTrace","target","source","stack","waitForWrapper","callback","timeout","stackTraceError","interval","onTimeout","TypeError","Promise","async","resolve","reject","lastError","intervalId","observer","finished","promiseStatus","overallTimeoutTimer","onDone","usingJestFakeTimers","advanceTimersWrapper","checkCallback","advanceTimersByTime","r","setInterval","checkRealTimersCallback","result","clearTimeout","clearInterval","then","resolvedValue","rejectedValue","waitFor","makeFindQuery","getter","container","waitForOptions","wrapSingleQueryWithSuggestion","query","queryByName","args","suggest","suggestion","endsWith","getSuggestionError","buildQueries","queryBy","getMissingError","getBy","_len","_key","el","makeGetQuery","queryByTextWithSuggestions","getByText","findByText","exact","matchNormalizer","output","c","queryByErrorWithSuggestions","getByError","findByError","stderrArr","getQueriesForElement","queries","initialValue","defaultQueries","helpers","bind","childProcess","require$$0","spawn","exec","killAll","tree","signal","killed","pid","pidpid","killPid","err","process","kill","parseInt","code","buildProcessTree","parentPid","pidsToProcess","spawnChildProcessesList","ps","allData","stdout","on","data","match","killProc","hasExit","Number","isNaN","platform","treeKill","isOperationNotSupported","isAccessDenied","t","console","warn","e","isWin","eventMap","sigterm","sigkill","write","stdin","value","fireEvent","event","eventName","eventFn","bracketDict","getNextKeyDef","type","descriptor","consumedLength","pos","startBracket","startBracketRepeated","readPrintableChar","readTag","readNextDescriptor","keyDef","keyboardMap","find","def","hex","assertDescriptor","releasePrevious","releaseSelf","repeat","expectedEndBracket","endBracket","getErrorMessage","expected","found","keyboardImplementation","keypress","delay","time","defaultKeyMap","userEvent","keyboard","promise","keyboardImplementationWrapper","catch","isFullwidthCodePoint","codePoint","isFullwidthCodePointModule","exports","isFullwidthCodePoint$2","default","regex","astralRegex_1","cssKeywords","colorName","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","reverseKeywords","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","keyword","ansi16","ansi256","hcg","apple","conversions","model","defineProperty","g","b","min","Math","max","delta","h","s","l","rdif","gdif","bdif","diff","diffc","w","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","y","x","z","t2","t3","val","t1","i","smin","lmin","hi","floor","f","p","q","vmin","sl","wh","bl","ratio","n","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","saturation","round","ansi","color","mult","rem","toUpperCase","substring","colorString","split","char","integer","chroma","grayscale","hue","pure","mg","deriveBFS","fromModel","graph","models","len","parent","buildGraph","queue","pop","adjacents","adjacent","unshift","link","to","wrapConversion","toModel","path","cur","conversion","route","require$$1","routes","wrappedFn","arg0","wrapRounded","raw","wrapRaw","colorConvert","wrapAnsi16","offset","wrapAnsi256","wrapAnsi16m","ansi2ansi","rgb2rgb","setLazyProperty","property","get","enumerable","configurable","makeDynamicStyles","wrap","targetSpace","identity","isBackground","styles","sourceSpace","suite","module","codes","modifier","reset","bold","dim","italic","underline","inverse","hidden","strikethrough","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgColor","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","bgGray","bgGrey","groupName","group","styleName","style","open","close","astralRegex","ansiStyles","require$$2","ESCAPES","wrapAnsi","checkAnsi","ansiCodes","isEscapes","endAnsiCode","ansiCode","ansiCodeOrigin","item","indexEscape","indexOf","splice","index","fistEscapeCode","next","chalk","readFileSync","codeFrameColumns","nodeRequire","require","getUserCodeFrame","frame","locationStart","locationEnd","frameLocation","frameLocationElements","filename","line","column","rawFileContents","codeFrame","start","highlightCode","linesBelow","getCodeFrame","prettyCLI","maxLength","outStr","sliceAnsi","begin","end","characters","stringEnd","isInsideEscape","visible","character","leftEscape","codePointAt","mountedInstances","Set","cleanup","all","cleanupAtInstance","env","teardown","newConfig","func","_this","timer","apply","command","opts","cwd","__dirname","spawnOpts","shell","_readyPromiseInternals","_resolved","execOutputAPI","__exitCode","_isOutputAPI","_isReady","clear","debug","userCodeFrame","logCLI","exitCode","add","resStr","timestamp","performance","now","stderr","assign","concat","sort"],"mappings":"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AK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,SAAUiD,IAAK,KACtB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IAAK,KACpB,CAACjD,KAAM,OAAQiD,IA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"}